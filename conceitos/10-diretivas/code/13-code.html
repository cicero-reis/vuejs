<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!-- development version, includes helpful console warnings -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <title>13 Diretivas</title>

    <style>
        #app {
            font-family: 'Avenir', Helvetica, Arial, sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            text-align: center;
            color: #2c3e50;
            margin-top: 60px;
            font-size: 2.5rem;
        }
    </style>
    
</head>
<body>
    <div id="app">

        <h1>Diretivas</h1>

        <hr>

        <p v-destaque:fundo.atrasar="'lightblue'">Usando diretivas personalizadas.</p>

        <p v-destaque.atrasar="cor">Usando diretivas personalizadas.</p>

    </div>
    
    <script>

        Vue.directive('destaque', {

            bind(el, binding, vnode) {

                let atraso = 0
                
                if (binding.modifiers['atrasar']) atraso = 3000

                setTimeout( () => {

                    if (binding.arg == 'fundo') {
                        el.style.backgroundColor = binding.value
                    } else {
                        el.style.color = binding.value
                    }
                }, atraso)

            }
        }) 

        new Vue({
            el: '#app',
            data: {
                cor: 'red'
            }
        })
    </script>

</body>

</html>